<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="member">
  	
  	<!-- 회원가입 쿼리 -->
  	<insert id="insertMember" parameterType="memberVo">
  		INSERT INTO MEMBER2(ID, PWD, NICK, ENROLL_DATE) VALUES(#{id}, #{pwd}, #{nick}, SYSDATE)
  	</insert>
  	
  	<!-- 로그인 쿼리 -->
  	<!-- 멤버를 조회 (아이디 && 패스워드 일치) : 아이디, 패스워드 전달받아야됨 -->
	<!-- 조회결과 돌려줘야됨 : MemberVo -->
  	<select id="selectMemberLogin" parameterType="memberVo" resultType="memberVo">
  		SELECT ID,
  			   PWD, 
  			   NICK, 
  			   ENROLL_DATE
  		FROM MEMBER2 
  		
  		<if test="id != null and pwd != null">
	  		WHERE ID = #{id} 
	  		AND PWD = #{pwd}
  		</if>
  	</select>
</mapper>